// Generated by CoffeeScript 1.6.3
var Api, Bunyan, v4;

v4 = require('node-uuid').v4;

Bunyan = require('bunyan');

Api = require('./api/api');

module.exports = function(config) {
  var log, title, uuid;
  title = config.title || 'Untitled Vertex';
  uuid = config.uuid || v4();
  log = Bunyan.createLogger({
    name: title
  });
  return Api.create(config).listen(function(err, api) {
    if (err != null) {
      log.fatal(err);
      throw err != null;
    }
  });
};
