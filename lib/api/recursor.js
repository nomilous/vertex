// Generated by CoffeeScript 1.6.3
var deferred;

deferred = require('also').deferred;

module.exports.create = function(config) {
  var local;
  return local = {
    process: deferred(function(action, opts) {
      var path;
      path = opts.path.split('/').filter(function(p) {
        return p.length > 0;
      });
      return local.recurse(opts, path, config.root, function(error, result) {
        if (error != null) {
          return action.reject(error);
        }
        return action.resolve(result);
      });
    }),
    recurse: function(opts, path, object, callback) {
      var error;
      try {
        throw new Error('e');
      } catch (_error) {
        error = _error;
        return callback(error);
      }
    }
  };
};
